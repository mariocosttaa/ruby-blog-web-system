<!-- Header -->
<%= render "panel/_components/header", 
    title: "Edit Category: #{ @category.name }", 
    subtitle: "Update category information", 
    breadcrumbs: (
      content_tag(:li, link_to("Dashboard", panel_dashboard_index_path, class: "text-purple hover:text-purple/80"), class: "flex items-center") +
      content_tag(:li, link_to("Categories", panel_categories_index_path, class: "text-purple hover:text-purple/80"), class: "flex items-center") +
      content_tag(:li, "Edit", class: "flex items-center text-secondary", aria: { current: "page" })
    ) %>

<!-- Error Messages -->
<%= render "panel/_components/form_errors", errors: @category.errors.full_messages %>

<div class="max-w-2xl mx-auto">
  <div class="bg-card rounded-xl shadow-sm border border-theme overflow-hidden animate-on-scroll">
    <div class="p-8">
      <%= form_with model: @category, url: panel_update_category_path, local: true, class: "space-y-6" do |form| %>

        <!-- Name Field -->
        <div>
          <%= form.label :name, "Category Name", class: "block text-sm font-medium text-secondary mb-2" %>
          <%= form.text_field :name, 
              class: "w-full px-4 py-3 border border-theme rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors duration-200", 
              style: "background-color: var(--card-bg); color: var(--text-color);",
              placeholder: "Enter category name", 
              required: true %>
        </div>

        <!-- Description Field -->
        <div>
          <%= form.label :description, "Description", class: "block text-sm font-medium text-secondary mb-2" %>
          <%= form.text_area :description, 
              class: "w-full px-4 py-3 border border-theme rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors duration-200", 
              style: "background-color: var(--card-bg); color: var(--text-color);",
              rows: 4, 
              placeholder: "Enter description (optional)" %>
        </div>

        <!-- Status Switch -->
        <div class="flex items-center">
          <%= form.check_box :status, 
              class: "h-4 w-4 text-purple-600 focus:ring-purple-500 border-theme rounded", 
              role: "switch" %>
          <%= form.label :status, "Active Category", 
              class: "ml-3 text-sm font-medium text-secondary" %>
        </div>

        <!-- Buttons -->
        <div class="flex justify-between pt-6 border-t border-theme">
          <%= link_to "Back", panel_categories_index_path, 
              class: "px-6 py-3 border border-theme text-secondary rounded-lg transition-colors duration-200",
              style: "color: var(--text-color); background-color: var(--card-bg);" %>
          <%= form.submit "Update Category", 
              class: "px-8 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-medium transition-colors duration-200" %>
        </div>

      <% end %>
    </div>
  </div>
</div>
