<!-- Header -->
<%= render "panel/_components/header",
    title: "Dashboard",
    subtitle: "Overview of your blog's performance and quick access to management tools" %>

<!-- Main Content -->
<main class="max-w-7xl mx-auto">

  <!-- Stats Grid -->
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6 animate-on-scroll">
    <!-- Posts Stat -->
    <div class="bg-card rounded-lg shadow-sm border border-theme p-4 text-center hover:shadow-md transition-shadow duration-200">
      <div class="text-2xl mb-2">📝</div>
      <h3 class="text-xl font-bold mb-1" style="color: var(--text-color);"><%= @total_posts ? @total_posts : 0 %></h3>
      <p class="text-xs text-secondary">Total Posts</p>
    </div>

    <!-- Categories Stat -->
    <div class="bg-card rounded-lg shadow-sm border border-theme p-4 text-center hover:shadow-md transition-shadow duration-200">
      <div class="text-2xl mb-2">📂</div>
      <h3 class="text-xl font-bold mb-1" style="color: var(--text-color);"><%= @total_categories ? @total_categories : 0 %></h3>
      <p class="text-xs text-secondary">Categories</p>
    </div>

    <!-- Tags Stat -->
    <div class="bg-card rounded-lg shadow-sm border border-theme p-4 text-center hover:shadow-md transition-shadow duration-200">
      <div class="text-2xl mb-2">🏷️</div>
      <h3 class="text-xl font-bold mb-1" style="color: var(--text-color);"><%= @total_tags ? @total_tags : 0 %></h3>
      <p class="text-xs text-secondary">Tags</p>
    </div>

    <!-- Comments Stat -->
    <div class="bg-card rounded-lg shadow-sm border border-theme p-4 text-center hover:shadow-md transition-shadow duration-200">
      <div class="text-2xl mb-2">💬</div>
      <h3 class="text-xl font-bold mb-1" style="color: var(--text-color);"><%= @total_comments ? @total_comments : 0 %></h3>
      <p class="text-xs text-secondary">Comments</p>
    </div>
  </div>

  <!-- Main Content Grid -->
  <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
    <!-- Management Section -->
    <div class="lg:col-span-2">
      <div class="bg-card rounded-lg shadow-sm border border-theme p-4 animate-on-scroll">
        <h2 class="text-lg font-bold mb-4 flex items-center" style="color: var(--text-color);">
          <span class="text-lg mr-2">⚡</span> Content Management
        </h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
          <!-- Posts -->
          <div class="rounded-lg p-3 hover:shadow-md transition-shadow duration-200" style="background-color: var(--card-bg); opacity: 0.8;">
            <div class="flex flex-col h-full">
              <h5 class="text-sm font-semibold mb-1 flex items-center" style="color: var(--text-color);">
                <span class="text-sm mr-1">📝</span> Posts
              </h5>
              <p class="text-xs text-secondary flex-grow mb-3">Create, edit and manage all your blog posts</p>
              <div class="flex gap-1">
                <%= link_to panel_posts_index_path, title: 'View All', class: "flex-1 bg-purple-600 hover:bg-purple-700 text-white text-center py-1.5 px-2 rounded text-xs font-medium transition-colors duration-200" do %>
                  View All
                <% end %>
                <%= link_to panel_new_post_path, title: 'New Post', class: "flex-1 border border-purple-600 text-purple-600 hover:bg-purple-600 hover:text-white text-center py-1.5 px-2 rounded text-xs font-medium transition-colors duration-200" do %>
                  New
                <% end %>
              </div>
            </div>
          </div>

          <!-- Categories -->
          <div class="rounded-lg p-3 hover:shadow-md transition-shadow duration-200" style="background-color: var(--card-bg); opacity: 0.8;">
            <div class="flex flex-col h-full">
              <h5 class="text-sm font-semibold mb-1 flex items-center" style="color: var(--text-color);">
                <span class="text-sm mr-1">📂</span> Categories
              </h5>
              <p class="text-xs text-secondary flex-grow mb-3">Organize your content with categories</p>
              <div class="flex gap-1">
                <%= link_to panel_categories_index_path, title: 'View All', class: "flex-1 bg-purple-600 hover:bg-purple-700 text-white text-center py-1.5 px-2 rounded text-xs font-medium transition-colors duration-200" do %>
                  View All
                <% end %>
                <%= link_to panel_new_category_path, title: 'New Category', class: "flex-1 border border-purple-600 text-purple-600 hover:bg-purple-600 hover:text-white text-center py-1.5 px-2 rounded text-xs font-medium transition-colors duration-200" do %>
                  New
                <% end %>
              </div>
            </div>
          </div>

          <!-- Tags -->
          <div class="rounded-lg p-3 hover:shadow-md transition-shadow duration-200" style="background-color: var(--card-bg); opacity: 0.8;">
            <div class="flex flex-col h-full">
              <h5 class="text-sm font-semibold mb-1 flex items-center" style="color: var(--text-color);">
                <span class="text-sm mr-1">🏷️</span> Tags
              </h5>
              <p class="text-xs text-secondary flex-grow mb-3">Create and manage content tags</p>
              <div class="flex gap-1">
                <%= link_to panel_tags_index_path, title: 'View All', class: "flex-1 bg-purple-600 hover:bg-purple-700 text-white text-center py-1.5 px-2 rounded text-xs font-medium transition-colors duration-200" do %>
                  View All
                <% end %>
                <%= link_to panel_new_tag_path, title: 'New Tag', class: "flex-1 border border-purple-600 text-purple-600 hover:bg-purple-600 hover:text-white text-center py-1.5 px-2 rounded text-xs font-medium transition-colors duration-200" do %>
                  New
                <% end %>
              </div>
            </div>
          </div>

          <!-- Comments -->
          <div class="rounded-lg p-3 hover:shadow-md transition-shadow duration-200" style="background-color: var(--card-bg); opacity: 0.8;">
            <div class="flex flex-col h-full">
              <h5 class="text-sm font-semibold mb-1 flex items-center" style="color: var(--text-color);">
                <span class="text-sm mr-1">💬</span> Comments
              </h5>
              <p class="text-xs text-secondary flex-grow mb-3">Moderate and manage user comments</p>
              <div class="flex gap-1">
                <a href="#" class="flex-1 bg-purple-600 hover:bg-purple-700 text-white text-center py-1.5 px-2 rounded text-xs font-medium transition-colors duration-200">View All</a>
                <a href="#" class="flex-1 border border-purple-600 text-purple-600 hover:bg-purple-600 hover:text-white text-center py-1.5 px-2 rounded text-xs font-medium transition-colors duration-200">Manage</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Sidebar -->
    <div class="lg:col-span-1">
      <!-- Recent Activity -->
      <div class="bg-card rounded-lg shadow-sm border border-theme p-4 animate-on-scroll">
        <h5 class="text-sm font-bold mb-3" style="color: var(--text-color);">Recent Posts</h5>
        <div class="space-y-2">
          <% if @posts.empty? %>
            <div class="text-center py-3">
              <div class="text-xs text-secondary">No posts available</div>
            </div>
          <% else %>
            <% @posts.each do |post| %>
              <div class="border-l-4 border-purple-500 pl-3 py-1.5">
                <div class="text-xs text-secondary mb-1">
                  <%= post.created_at.strftime("%b %d, %Y") %>
                </div>
                <div class="font-medium text-xs line-clamp-2" style="color: var(--text-color);">
                  <%= truncate(post.title, length: 40) %>
                </div>
              </div>
            <% end %>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</main>
